<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Python開発環境構築ガイド</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <a href="index.html" class="back-link">← トップに戻る</a>
    
    <header>
        <h1>🐍 Python開発環境構築ガイド</h1>
        <p class="subtitle">仮想環境からGitHub公開まで完全網羅</p>
    </header>

    <section>
        <h2>🎯 AIへのプロンプト指示</h2>
        <div class="code-block">
            <div class="code-header">
                <span class="code-title">アプリ作成時のプロンプト</span>
                <button class="copy-btn" onclick="copyCode(this)">Copy</button>
            </div>
            <pre><code>私の仕事はターミナルにコピペすることです。
あなたの仕事はファイルの作成、修正、保存のコードを私に提供することです。
できるだけコピペの数は減らしたいので、まとめてファイルを作成できる場合はスクリプトにまとめてください。</code></pre>
        </div>
    </section>

    <section class="replace-form">
        <h3>🔄 プロジェクト設定</h3>
        <label for="username">GitHubユーザー名:</label>
        <input type="text" id="username" class="replace-input" data-placeholder="USERNAME" placeholder="your-username">
        
        <label for="reponame" style="margin-top: 10px;">リポジトリ名:</label>
        <input type="text" id="reponame" class="replace-input" data-placeholder="REPONAME" placeholder="my-project">
        
        <label for="appname" style="margin-top: 10px;">アプリ名:</label>
        <input type="text" id="appname" class="replace-input" data-placeholder="APPNAME" placeholder="MyApp">
        
        <label for="filename" style="margin-top: 10px;">メインファイル名:</label>
        <input type="text" id="filename" class="replace-input" data-placeholder="FILENAME" placeholder="main.py">
    </section>

    <section>
        <h2>🚀 仮想環境の基本</h2>
        
        <h3>仮想環境の作成</h3>
        <div class="code-block">
            <div class="code-header">
                <span class="code-title">venv作成</span>
                <button class="copy-btn" onclick="copyCode(this)">Copy</button>
            </div>
            <pre><code>python3 -m venv venv</code></pre>
        </div>

        <h3>仮想環境の有効化</h3>
        <div class="code-block">
            <div class="code-header">
                <span class="code-title">Mac/Linux</span>
                <button class="copy-btn" onclick="copyCode(this)">Copy</button>
            </div>
            <pre><code>source venv/bin/activate</code></pre>
        </div>

        <div class="code-block">
            <div class="code-header">
                <span class="code-title">Windows</span>
                <button class="copy-btn" onclick="copyCode(this)">Copy</button>
            </div>
            <pre><code>venv\Scripts\activate</code></pre>
        </div>

        <h3>依存関係のインストール</h3>
        <div class="code-block">
            <div class="code-header">
                <span class="code-title">requirements.txtからインストール</span>
                <button class="copy-btn" onclick="copyCode(this)">Copy</button>
            </div>
            <pre><code>pip install -r requirements.txt</code></pre>
        </div>
    </section>

    <section>
        <h2>📁 ファイル作成（catコマンド）</h2>
        
        <h3>同じ階層にファイル作成</h3>
        <div class="code-block">
            <div class="code-header">
                <span class="code-title">基本的なファイル作成</span>
                <button class="copy-btn" onclick="copyCode(this)">Copy</button>
            </div>
            <pre><code>cat > {FILENAME} << 'EOF'
# ここにコードを書く

EOF</code></pre>
        </div>

        <h3>サブディレクトリにファイル作成</h3>
        <div class="code-block">
            <div class="code-header">
                <span class="code-title">ディレクトリ作成とファイル配置</span>
                <button class="copy-btn" onclick="copyCode(this)">Copy</button>
            </div>
            <pre><code>mkdir -p src

cat > src/utils.py << 'EOF'
# ここにコードを書く

EOF</code></pre>
        </div>
    </section>

    <section>
        <h2>📋 GitHub用ファイル構成</h2>
        
        <h3>1. requirements.txt の作成</h3>
        <div class="code-block">
            <div class="code-header">
                <span class="code-title">依存パッケージリスト</span>
                <button class="copy-btn" onclick="copyCode(this)">Copy</button>
            </div>
            <pre><code>cat > requirements.txt << 'EOF'
# プロジェクトの依存パッケージ
EOF</code></pre>
        </div>

        <div class="code-block">
            <div class="code-header">
                <span class="code-title">現在の環境から自動生成</span>
                <button class="copy-btn" onclick="copyCode(this)">Copy</button>
            </div>
            <pre><code>pip freeze > requirements.txt</code></pre>
        </div>

        <h3>2. .gitignore の作成</h3>
        <div class="code-block">
            <div class="code-header">
                <span class="code-title">.gitignore</span>
                <button class="copy-btn" onclick="copyCode(this)">Copy</button>
            </div>
            <pre><code>cat > .gitignore << 'EOF'
venv/
__pycache__/
*.pyc
*.pyo
*.pyd
.DS_Store
dist/
build/
*.spec
*.egg-info/
EOF</code></pre>
        </div>

        <h3>3. README.md の作成</h3>
        <div class="code-block">
            <div class="code-header">
                <span class="code-title">README.md</span>
                <button class="copy-btn" onclick="copyCode(this)">Copy</button>
            </div>
            <pre><code>cat > README.md << 'EOF'
# {APPNAME}

## 概要
このプロジェクトの説明

## セットアップ
\`\`\`bash
# 仮想環境作成
python3 -m venv venv

# 仮想環境有効化
source venv/bin/activate  # Windows: venv\Scripts\activate

# 依存パッケージインストール
pip install -r requirements.txt
\`\`\`

## 実行
\`\`\`bash
python {FILENAME}
\`\`\`

## ビルド
\`\`\`bash
pyinstaller --onefile --windowed --name "{APPNAME}" {FILENAME}
\`\`\`
EOF</code></pre>
        </div>
    </section>

    <section>
        <h2>🔧 PyInstaller（実行ファイル化）</h2>
        
        <div class="code-block">
            <div class="code-header">
                <span class="code-title">実行ファイルを作成</span>
                <button class="copy-btn" onclick="copyCode(this)">Copy</button>
            </div>
            <pre><code>pyinstaller --onefile --windowed --name "{APPNAME}" {FILENAME}</code></pre>
        </div>

        <div class="code-block">
            <div class="code-header">
                <span class="code-title">生成されたファイルを確認</span>
                <button class="copy-btn" onclick="copyCode(this)">Copy</button>
            </div>
            <pre><code>ls dist/</code></pre>
        </div>
    </section>

    <section>
        <h2>🤖 GitHub Actions（自動ビルド）</h2>
        
        <div class="code-block">
            <div class="code-header">
                <span class="code-title">.github/workflows/build.yml 作成</span>
                <button class="copy-btn" onclick="copyCode(this)">Copy</button>
            </div>
            <pre><code>mkdir -p .github/workflows

cat > .github/workflows/build.yml << 'EOF'
name: Build and Release

on:
  push:
    tags:
      - 'v*'

jobs:
  build-windows:
    runs-on: windows-latest
    steps:
      - uses: actions/checkout@v4
      - uses: actions/setup-python@v5
        with:
          python-version: '3.11'
      - run: |
          pip install pyinstaller
          pip install -r requirements.txt
          pyinstaller --onefile --windowed --name "{APPNAME}" {FILENAME}
      - uses: actions/upload-artifact@v4
        with:
          name: windows-build
          path: dist/*.exe

  create-release:
    needs: [build-windows]
    runs-on: ubuntu-latest
    if: startsWith(github.ref, 'refs/tags/')
    steps:
      - uses: actions/download-artifact@v4
      - uses: softprops/action-gh-release@v1
        with:
          files: windows-build/*
        env:
          GITHUB_TOKEN: \${{ secrets.GITHUB_TOKEN }}
EOF</code></pre>
        </div>
    </section>

    <section>
        <h2>🚀 GitHub初回設定</h2>
        
        <h3>Pythonファイル一覧確認</h3>
        <div class="code-block">
            <div class="code-header">
                <span class="code-title">Pythonファイル確認</span>
                <button class="copy-btn" onclick="copyCode(this)">Copy</button>
            </div>
            <pre><code>ls *.py</code></pre>
        </div>

        <h3>Gitリポジトリ初期化</h3>
        <div class="code-block">
            <div class="code-header">
                <span class="code-title">Git初期化とコミット</span>
                <button class="copy-btn" onclick="copyCode(this)">Copy</button>
            </div>
            <pre><code># Gitリポジトリを初期化（まだの場合）
git init

# すべてのファイルを追加
git add .

# コミット
git commit -m "Initial commit: {APPNAME}"</code></pre>
        </div>

        <h3>リモートリポジトリ追加とプッシュ</h3>
        <div class="code-block">
            <div class="code-header">
                <span class="code-title">GitHub連携</span>
                <button class="copy-btn" onclick="copyCode(this)">Copy</button>
            </div>
            <pre><code># リモートリポジトリを追加
git remote add origin https://github.com/{USERNAME}/{REPONAME}.git

# メインブランチに変更
git branch -M main

# プッシュ
git push -u origin main</code></pre>
        </div>

        <h3>初回リリース（タグ作成）</h3>
        <div class="code-block">
            <div class="code-header">
                <span class="code-title">v1.0.0 リリース</span>
                <button class="copy-btn" onclick="copyCode(this)">Copy</button>
            </div>
            <pre><code># タグを作成
git tag v1.0.0

# タグをプッシュ
git push origin v1.0.0</code></pre>
        </div>
    </section>

    <section>
        <h2>🔄 GitHub更新フロー</h2>
        
        <div class="code-block">
            <div class="code-header">
                <span class="code-title">変更をプッシュ</span>
                <button class="copy-btn" onclick="copyCode(this)">Copy</button>
            </div>
            <pre><code># 変更を追加
git add .

# コミット
git commit -m "Update: 変更内容の説明"

# プッシュ
git push origin main</code></pre>
        </div>

        <div class="code-block">
            <div class="code-header">
                <span class="code-title">特定ファイルのみ更新</span>
                <button class="copy-btn" onclick="copyCode(this)">Copy</button>
            </div>
            <pre><code># 変更を追加
git add .github/workflows/build.yml

# コミット
git commit -m "Fix: GitHub Actions build configuration"

# プッシュ
git push origin main</code></pre>
        </div>

        <div class="code-block">
            <div class="code-header">
                <span class="code-title">新バージョンリリース</span>
                <button class="copy-btn" onclick="copyCode(this)">Copy</button>
            </div>
            <pre><code># 変更をプッシュ
git add .
git commit -m "Release: v1.1.0"
git push origin main

# 新しいタグを作成
git tag v1.1.0
git push origin v1.1.0</code></pre>
        </div>
    </section>

    <section>
        <h2>🔍 プロジェクト構造確認</h2>
        
        <div class="code-block">
            <div class="code-header">
                <span class="code-title">ディレクトリ構造表示</span>
                <button class="copy-btn" onclick="copyCode(this)">Copy</button>
            </div>
            <pre><code>tree -a -I 'venv|__pycache__|.git'</code></pre>
        </div>
    </section>

    <section>
        <h2>💡 よく使うコマンド集</h2>
        
        <table>
            <thead>
                <tr>
                    <th>目的</th>
                    <th>コマンド</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>仮想環境無効化</td>
                    <td><code>deactivate</code></td>
                </tr>
                <tr>
                    <td>パッケージ一覧</td>
                    <td><code>pip list</code></td>
                </tr>
                <tr>
                    <td>パッケージ追加</td>
                    <td><code>pip install package-name</code></td>
                </tr>
                <tr>
                    <td>Git状態確認</td>
                    <td><code>git status</code></td>
                </tr>
                <tr>
                    <td>コミット履歴</td>
                    <td><code>git log --oneline</code></td>
                </tr>
                <tr>
                    <td>リモート確認</td>
                    <td><code>git remote -v</code></td>
                </tr>
            </tbody>
        </table>
    </section>

    <section>
        <h2>🎯 完全ワークフロー（新規プロジェクト）</h2>
        
        <div class="code-block">
            <div class="code-header">
                <span class="code-title">プロジェクト作成からGitHub公開まで</span>
                <button class="copy-btn" onclick="copyCode(this)">Copy</button>
            </div>
            <pre><code># ========== プロジェクト作成 ==========
mkdir {REPONAME} && cd {REPONAME}

# 仮想環境作成・有効化
python3 -m venv venv
source venv/bin/activate

# メインファイル作成
cat > {FILENAME} << 'EOF'
# ここにコードを書く

EOF

# requirements.txt作成
cat > requirements.txt << 'EOF'
# 依存パッケージ
EOF

# .gitignore作成
cat > .gitignore << 'EOF'
venv/
__pycache__/
*.pyc
.DS_Store
dist/
build/
*.spec
EOF

# README作成
cat > README.md << 'EOF'
# {APPNAME}

## セットアップ
\`\`\`bash
python3 -m venv venv
source venv/bin/activate
pip install -r requirements.txt
\`\`\`

## 実行
\`\`\`bash
python {FILENAME}
\`\`\`
EOF

# ========== Git初期化 ==========
git init
git add .
git commit -m "Initial commit: {APPNAME}"

# ========== GitHub連携 ==========
# ブラウザでリポジトリ作成後、以下を実行
git remote add origin https://github.com/{USERNAME}/{REPONAME}.git
git branch -M main
git push -u origin main

# ========== GitHub Actions設定 ==========
mkdir -p .github/workflows
cat > .github/workflows/build.yml << 'EOF'
name: Build and Release
on:
  push:
    tags:
      - 'v*'
jobs:
  build-windows:
    runs-on: windows-latest
    steps:
      - uses: actions/checkout@v4
      - uses: actions/setup-python@v5
        with:
          python-version: '3.11'
      - run: |
          pip install pyinstaller
          pip install -r requirements.txt
          pyinstaller --onefile --windowed --name "{APPNAME}" {FILENAME}
      - uses: actions/upload-artifact@v4
        with:
          name: windows-build
          path: dist/*.exe
  create-release:
    needs: [build-windows]
    runs-on: ubuntu-latest
    if: startsWith(github.ref, 'refs/tags/')
    steps:
      - uses: actions/download-artifact@v4
      - uses: softprops/action-gh-release@v1
        with:
          files: windows-build/*
        env:
          GITHUB_TOKEN: \${{ secrets.GITHUB_TOKEN }}
EOF

git add .github/workflows/build.yml
git commit -m "Add: GitHub Actions"
git push origin main

# ========== 初回リリース ==========
git tag v1.0.0
git push origin v1.0.0

echo "✅ 完了！"</code></pre>
        </div>
    </section>

    <script src="js/script.js"></script>
</body>
</html>